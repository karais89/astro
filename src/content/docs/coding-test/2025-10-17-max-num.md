---
title: "뒤에 있는 큰 수 찾기 (Lv.2)"
description: 뒤에 있는 큰 수 찾기 문제 풀이.
date: 2025-10-17"
tags: ["programmers", "Stack"]
draft: false
preferBodyH1: true
---

# 뒤에 있는 큰 수 찾기 (Lv.2)

## 문제 요약

정수로 이루어진 배열 numbers가 있습니다. 배열 의 각 원소들에 대해 자신보다 뒤에 있는 숫자 중에서 자신보다 크면서 가장 가까이 있는 수를 뒷 큰수라고 합니다.
정수 배열 numbers가 매개변수로 주어질 때, 모든 원소에 대한 뒷 큰수들을 차례로 담은 배열을 return 하도록 solution 함수를 완성해주세요. 단, 뒷 큰수가 존재하지 않는 원소는 -1을 담습니다.

## 풀이 코드 (C#)

```csharp
using System;
using System.Collections.Generic;

public class Solution {
    public int[] solution(int[] numbers) {
        int[] answer = new int[numbers.Length];
        for (int i = 0; i < answer.Length; i++)
        {
            answer[i] = -1;
        }
        
        Stack<int> stack = new Stack<int>();    
        for (int i = 0; i < numbers.Length; i++)
        {
            while (stack.Count > 0 && numbers[stack.Peek()] < numbers[i])
            {
                int fIndex = stack.Pop();
                answer[fIndex] = numbers[i];
            }
            stack.Push(i);
        }
        
        return answer;
    }
}
```

1. 결과 배열 answer를 모두 -1로 초기화.
2. 스택에는 인덱스만 저장.
3. 배열을 순회하면서
  - 현재 값이 스택 top의 값보다 크면, → 그 인덱스의 "뒷 큰수"는 현재 값 → answer[stack.Pop()] = numbers[i]
  - 그렇지 않으면 스택에 현재 인덱스 i를 push.
4. 모든 순회가 끝나면 answer를 반환.

> "스택에 인덱스를 저장해, 현재 숫자가 이전 숫자보다 클 때 그 인덱스의 '뒷 큰수'를 채워 넣는 O(n) 풀이."

## 다른 사람의 풀이

```csharp
// 괜찮은 정답이 없는 것으로 보여 생략
```

## 리팩토링 코드

```csharp
using System.Collections.Generic;

public class Solution {
    public int[] solution(int[] numbers) {
        int n = numbers.Length;
        int[] answer = new int[n];
        Array.Fill(answer, -1); // 초기화 간결화
        
        Stack<int> stack = new();
        for (int i = 0; i < n; i++)
        {
            while (stack.Count > 0 && numbers[stack.Peek()] < numbers[i])
            {
                answer[stack.Pop()] = numbers[i];
            }
            stack.Push(i);
        }
        return answer;
    }
}
```

- Array.Fill(answer, -1)로 초기화 간단히 처리
- new() 문법으로 타입 추론 (C# 9 이상)
- 의미 있는 변수명(n, answer)로 간결하고 직관적

## 메모

- 뒤에 있는 큰 수 찾기 문제, 처음에는 이중 for문을 사용하여 풀었지만 속도 문제로 인해 실패. 스택을 이용해서 풀어야 속도 문제를 해결 할 수 있다.
- 이전에도 비슷한 문제를 풀었던 것 같은데, 해당 문제는 찾을 수 없음.


## 학습 메모
- 스택 패턴 요약
  - 오른쪽/왼쪽에서 자신보다 큰(혹은 작은) 원소를 찾을 때 활용.
  - "현재 값이 스택 top보다 크다" -> 스택에 있던 값의 정답 확정.
  - 대표 유사 문제
    - 주식 가격 (Lv.2)
    - 기온 상승일 찾기 (Daily Temperatures, LeetCode)
    - 오큰수 (BOJ 17298)
- 복습 포인트
  - "현재 값이 이전보다 큰지" 비교하며 pop 하는 패턴 익히기.
  - 스택에는 값이 아니라 인덱스를 저장해야 함을 명확히 인지.
  - 시각적으로 "막대 그래프"를 떠올리면 이해가 쉬움.